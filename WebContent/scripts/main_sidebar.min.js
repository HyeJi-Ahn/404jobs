var jkUitSideBar=function(){var a="undefined"!=typeof exports?exports:this.jkSideBar={};var k=0,b,e,c;a.init=function(){a.jkSideFloating();a.sidePopCall();a.sideLyClose();a.sideLyResize()};a.landingBanner=function(a){k=$(a).outerHeight()};a.jkSideFloating=function(){var a=$(".jkSidebarArea")[0],b=$(".sideBarInner")[0],q=$("#sideContent")[0];if(b){var f,l,c,m,n=0,p=0,g=0,h=function(){l=$("#headerWrap")[0].clientHeight+$("#headerWrap").position().top;c=b.clientHeight;n=$(q).position().top;f=$("body")[0].clientHeight;
var d=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;g=(window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight||650)-2;m=$(a).position().top;e=d-l-(m+k)>=n?!0:!1;1400>document.documentElement.clientWidth?($(a).addClass("wrapStatic"),e=!1):($(a).removeClass("wrapStatic"),$(a).show());e?1130<document.documentElement.clientWidth&&($(b).addClass("jkSideFixed"),d>f-(c+0+60)&&(b.style.top=f-(0+c)-d+"px")):$(b).removeClass("jkSideFixed")};$(window).scroll(h);
$(window).resize(function(){p==g&&$(b).removeClass("jkSideFixed");h();p=g});h();var r=new function(){var a,b=$("html, body");$("#skipNavigation").length||$("a[name='top']").length?a=!$("#skipNavigation").length&&$("a[name='top']").length?"a[name='top']":"#skipNavigation":($("body").prepend('<a name="top"></a>'),a="a[name='top']");this.gotoTop=function(){b.animate({scrollTop:0},{queue:!1,duration:200,complete:function(){$(a).attr("tabindex","0").focus()}})}};$(".jkSidebarArea .btnSideTop").find("button").on("click",
function(a){r.gotoTop()})}};a.calFreeze=function(){if("fixed"!=$("html").css("position")){var a=$("html").scrollTop()?$("html").scrollTop():$("body").scrollTop();window.innerWidth>$("html").width()&&$("html").css("overflow-y","scroll");$("html").css({width:"100%",height:"100%",position:"fixed",top:-a})}};a.calUnFreeze=function(){"fixed"==$("html").css("position")&&($("html").css("position","static"),$("html, body").scrollTop(-parseInt($("html").css("top"))),$("html").css({position:"",width:"",height:"",
top:"","overflow-y":""}))};a.sideLyScrollReset=function(){$(b).find(".has-scrollbar").nanoScroller().each(function(){this.nanoscroller.reset()})};a.sideLyCenter=function(a,b,c){var d=$(a).find(".lyDetailCont");a=d.height();d.css({marginTop:-(a/2)});setTimeout(function(){d.stop().animate({opacity:b},c)},10)};a.sideLyChk=function(a){var d=$(b).find(".lyDetailCont").offset();a=$(window).innerHeight();var c=$(window).innerWidth();var f=$(b).find(".lyDetailCont").innerHeight();var e=$(b).find(".lyDetailCont").innerWidth();
a<f&&0>=d.top?$(b).find(".lyDetailCont").addClass("reset"):$(b).find(".lyDetailCont").removeClass("reset");c<e?$("body").addClass("bodyScrollX"):$("body").removeClass("bodyScrollX")};a.sideLyResize=function(b){$(window).on("resize",function(b){if($("body").hasClass("sideBarPopup"))$(window).on("resize",a.sideLyChk(b));else $(window).off("resize",a.sideLyChk(b))})};a.sideLyCallback=function(){a.sideLyScrollReset();a.sideLyCenter(b,1,500);a.sideLyChk()};a.sidePopCall=function(){$(document).on("click",
".titTotal .link",function(a){a.preventDefault();$(this).hasClass("noData")||(c=e,1==c?($("body").removeClass("noScroll"),$("body").addClass("scroll")):($("body").removeClass("scroll"),$("body").addClass("noScroll")),b=$(this).attr("data-target"),$(this).addClass("click"),$("body").addClass("sideBarPopup"),$(".sideBarInner").hasClass("jkSideFixed")&&$(".sideBarInner").css({position:"fixed"}),$("body").hasClass("sideBarPopup")&&$(b).hide(),$(b).show())})};a.dataComplete=function(){navigator.userAgent.match(/Android|Mobile|iP(hone|od|ad)|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/)?
$(b).addClass("mobile"):a.calFreeze();$(b).find(".nano-content").scrollTop(0);$(b).scrollTop(0);a.sideLyCallback()};a.sideLyClose=function(){$(document).on("click",".sideLyWrap .closeSideLy, .sideLyWrap .bg",function(d){$(".link.click").focus();1==c&&$(".sideBarInner").addClass("jkSideFixed");$(b).hide();$(".sideBarInner").css({position:""});a.calUnFreeze();navigator.userAgent.match(/Android|Mobile|iP(hone|od|ad)|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/)&&
$(b).removeClass("mobile");$("body").removeClass("sideBarPopup");$(".titTotal .link").removeClass("click");$(b).find(".lyDetailCont").removeClass("reset");a.sideLyCenter(b,0,0);$("body").removeClass("scroll");$("body").removeClass("noScroll")})};return a}();