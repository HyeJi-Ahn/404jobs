app.MainView=JK5Cript.View.extend({el:"body",layerActive:!1,menuSelect:{value:0,className:undefined,Set:function(n){var t=this,i,r,u,f;Number(n)===1?(t.value=1,t.className="devCareerMenu"):(t.value=0,t.className="devStarterMenu");$("ul.menuList > li.on").removeClass("on");i=0;$(".devCareerMenu").data("default-click-value","33");t.className=="devCareerMenu"&&(r=Math.random(),u=r<.5,i=u?0:1);f=$($("."+t.className).find("ul.menuList > li")[i]);f.addClass("on");t.className=="devCareerMenu"&&i==1&&$(".devCareerMenu").data("default-click-value","30")}},contentsShow:[],currentContentsNumber:0,events:{"click .devFContsBtn":"onFLayerBtnClick","click .devContsSelectBtn":"onContsSelectClick","click .devMenuSelectBtn":"onMenuSelectClick","click .devCont":"onContsMenuClick","click .devHref":"onContsHrefClick","click .devGiLinkHref":"onGiLinkHrefClick","click .devMoveTabBtn":"onMoveTabClick","click .devCalMenu":"onOrtCalMenuClick","click .devCareerAgiMenu":"onCareerAgiMenuClick","click .devPerson":"OnPersonLinkClick","click .matchingContWrap":"onAllClose","":""},initialize:function(){var n=this;n.menuSelect.Set(Number($(".devContsSelectBtn").attr("data-select-value")));n._menuWidthCalculate();n._InitMenuCookieSave();n._initContent()},onFLayerBtnClick:function(n){var i=this,r=$(n.currentTarget),t;i._preventDefault(n);t=Number(r.attr("data-cont-value"));i.menuSelect.Set(t);i._menuCookieSave();r.closest("div.devFContsLayer").hide().siblings("div.dim").hide();this.dvsMenuSelect(t,"");$(".devContsSelectBtn").attr("data-select-value",t).find("span").hide().eq(t).show()},onContsSelectClick:function(n){var u=this,i=$(n.currentTarget),t,r;u._preventDefault(n);t=Math.abs(Number(i.attr("data-select-value"))-1);r=i.find("span").eq(t).text();i.attr("data-select-value",t).find("span").hide().eq(t).show();this.dvsMenuSelect(t,r)},dvsMenuSelect:function(n){var t=this,i="",r=0;t.menuSelect.Set(n);t._menuCookieSave();n===1?($(".devCareerMenu").show(),$(".devStarterMenu").hide(),i="/main/Cntnt_"+$($(".devCareerMenu > ul > li > button")[0]).attr("data-url"),r=$($(".devCareerMenu > ul > li > button")[0]).attr("data-click-value"),$(".devQuickCareer").show(),$(".devQuickStater").hide(),$("#devQuickBlind").text("경력 퀵 메뉴")):($(".devStarterMenu").show(),$(".devCareerMenu").hide(),i="/main/Cntnt_"+$($(".devStarterMenu > ul > li > button")[0]).attr("data-url"),r=$($(".devStarterMenu > ul > li > button")[0]).attr("data-click-value"),$(".devQuickStater").show(),$(".devQuickCareer").hide(),$("#devQuickBlind").text("신입 퀵 메뉴"));t._menuWidthCalculate();$($("."+t.menuSelect.className+" > ul.menuList").find("li")[0]).find("button").trigger("click")},onMenuSelectClick:function(n){var t=this,i=$(n.currentTarget);t._preventDefault(n);var r=Number(i.attr("data-select-value")),e=i.find("span").eq(r).text(),u="",f=0;t.menuSelect.Set(r);t._menuCookieSave();r===1?($(".devCareerMenu").show(),$(".devStarterMenu").hide(),u="/main/Cntnt_"+$($(".devCareerMenu > ul > li > button")[0]).attr("data-url"),f=$($(".devCareerMenu > ul > li > button")[0]).attr("data-click-value"),$(".devQuickCareer").show(),$(".devQuickStater").hide()):($(".devStarterMenu").show(),$(".devCareerMenu").hide(),u="/main/Cntnt_"+$($(".devStarterMenu > ul > li > button")[0]).attr("data-url"),f=$($(".devStarterMenu > ul > li > button")[0]).attr("data-click-value"),$(".devQuickStater").show(),$(".devQuickCareer").hide());t._menuWidthCalculate();$(".devContsSelectBtn").attr("data-select-value",r);i.closest("ul.lySltList").prev().text(e);i.closest("div.lySltMn").removeClass("on");$($("."+t.menuSelect.className+" > ul.menuList").find("li")[0]).find("button").trigger("click")},onContsHrefClick:function(n){var i=this,t=$(n.currentTarget),r=t.hasClass("devClick")?!0:!1,u=t.hasClass("devActive")?!0:!1;u&&i._menuActive(t,t.closest("ul.menuList"));r&&i._sttClickLogger(t);i._contsSelectClose()},onGiLinkHrefClick:function(n){var t=$(n.currentTarget),i=t.attr("data-idx"),r={url:"/main/MainGILinkClickLogger",data:"idx="+i,method:"get",cache:!1};this._noResultLoader(r)},onContsMenuClick:function(n){var t=this,i=$(n.currentTarget),o;t._preventDefault(n);var r=$("."+t.menuSelect.className+" > ul.menuList"),s=r.find("li.on"),e=i.hasClass("devClick")?!0:!1,u=i.hasClass("devActive")?!0:!1,f=Number(i.attr("data-click-value"));t._createContents(f,i.attr("data-url"));e&&(!u||u&&!i.closest("li").hasClass("on"))&&t._sttClickLogger(i);u&&t._menuActive(i,i.closest("ul.menuList"));o=t._findCurrentLayerIndex(i.closest("."+t.menuSelect.className));t.layerActive&&t._layerMove(r.find("li.on"),$("."+t.menuSelect.className),r);t.currentContentsNumber=f;t._showContents(f);t._contsSelectClose()},onOrtCalMenuClick:function(n){var f=this,i=$(n.currentTarget),e=i.attr("data-cal-value"),r,u,t;f._preventDefault(n);r=$(".devOrtCal").find("ul.infoList");u=$(".devOrtCal").find("ol.infoList");$(".devOrtCal").find(".listTab>li").removeClass("on");$(".devOrtCal").find(".listTab>li").removeClass("end");i.closest("li").find("button").attr("data-cal-value")!="close"?i.closest("li").addClass("on"):i.closest("li").addClass("end");t=0;_.each($(".devOrtCal").find(".listTab > li"),function(n){var i;t=$(n).hasClass("on")||$(n).hasClass("end")?$(n).index():t;$(n).find("button").attr("data-cal-value")=="top100"&&(i=$(n).hasClass("on")?"TOP":"TOP",$(n).find("button").find("span").text(i));$(n).find("button").attr("data-cal-value")=="expect"&&(i=$(n).hasClass("on")?"예상":"예상",$(n).find("button").find("span").text(i));$(n).find("button").attr("data-cal-value")=="start"&&(i=$(n).hasClass("on")?"시작":"시작",$(n).find("button").find("span").text(i));$(n).find("button").attr("data-cal-value")=="close"&&(i=$(n).hasClass("end")?"마감":"마감",$(n).find("button").find("span").text(i))});r.hide();u.hide();$(".devOrtCal").find(".btnMore").hide();e=="top100"?u.eq(t).show().next("p").show():(t=t-1,r.eq(t).show().next("p").show());f._contsSelectClose()},onCareerAgiMenuClick:function(n){var r=this,t=$(n.currentTarget);r._preventDefault(n);var i=$(".devCareerAgi"),u=i.find("ul.infoList"),f=i.find(".listTab button").index(t);i.find(".listTab>li").removeClass("on");i.find(".listTab>li").removeClass("end");t.attr("data-career-agi-value")!="close"?t.closest("li").addClass("on"):t.closest("li").addClass("end");u.hide();u.eq(f).show();r._contsSelectClose()},onMoveTabClick:function(n){var r=this,u=$(n.currentTarget);r._preventDefault(n);var t=$("."+r.menuSelect.className+" > ul.menuList"),i=t.find("li.on"),f=i.width(),e=Number(t.css("left").replace("px",""));u.hasClass("mainBtnPrev_1")?i.index()!==0?i.prev().find("button").trigger("click"):t.find("li").last().find("button").trigger("click"):i.index()!==t.find("li").last().index()?i.next().find("button").trigger("click"):$(t.find("li")[0]).find("button").trigger("click")},OnPersonLinkClick:function(n){var t=this,i=n;Mem_Chk!="1"&&(t._preventDefault(n),JKLoginLayer.open(document.location.href))},onAllClose:function(){var n=this;n._contsSelectClose()},_contsSelectClose:function(){var n=this;$(".devContsSelectBtn").closest("div.lySltMn").hasClass("on")&&$(".devContsSelectBtn").closest("div.lySltMn").removeClass("on")},_contsAjaxHtmlResult:function(n,t){var r=this,i={url:n,data:"",method:"get",cache:!1};i.beforeSend=r._showSmartMatchLoading;i.complete=r._hideSmartMatchLoading;JK5Cript.Loader.async(i,function(n,i){i&&$("#contentsArea").append($(n).attr("data-contents-value",t).attr("id","devConts_"+t).hide())}.bind(this))},_menuWidthCalculate:function(){var t=this,n=0,i=t.menuSelect.className;_.each($("."+t.menuSelect.className+" > ul > li"),function(t){n=n+$(t).width()+13});n<Number($("."+t.menuSelect.className).width())||(n=n<672&&Number($("."+t.menuSelect.className).width())<n?672:n);t.layerActive=n<672?!1:!0;$("."+t.menuSelect.className+" > ul.menuList").css("width",n)},_layerMove:function(n,t,i){var s=this,a=Number(t.width()),b=Number(n.width()),y=Number($("span.bgLeft").width()),p=Number($("span.bgRight").width()),u=0,v=!0,k=Number(i.width()),h=i.find("li"),c,l,r,f,e,o=s._findCurrentLayerIndex(n.closest("."+s.menuSelect.className)),w=i.find("li").last().index();s.layerActive&&(r=i.position(),f=r.left+n.position().left,e=n.position().left+Number(n.width()),o>0&&(c=h.eq(o-1),f=r.left+c.position().left),o!=w&&(l=h.eq(o+1),e=l.position().left+Number(l.width())),f<0?u=r.left-f+y:r.left+e>a?u=a-(e+p):v=!1,v&&(h.index(c)===0?(u=0,$(".bgLeft").css("display","none")):$(".bgLeft").css("display","block"),i.animate({left:u},250)))},_findCurrentLayerIndex:function(n){var t=0;return _.each(n.find("li"),function(n){t=$(n).hasClass("on")?$(n).index():t}),t},_menuActive:function(n,t){t.find(".on").removeClass("on");n.closest("li").addClass("on")},_sttClickLogger:function(n){var t=this,i=n.attr("data-click-value"),r=typeof n.attr("data-cntnt-no")!="undefined"?Number(n.attr("data-cntnt-no")):"0",u={url:"/main/MainClickLogger",data:"itemCodeValue="+i+"&cntntNo="+r,method:"get",cache:!1};t._noResultLoader(u)},_InitMenuCookieSave:function(){var n=this;n._initResultLoader({url:"/main/MainCookieSave",data:"value=",method:"get",cache:!1})},_menuCookieSave:function(){var n=this,t={url:"/main/MainCookieSave",data:"value="+n.menuSelect.value,method:"get",cache:!1};n._noResultLoader(t)},_contentsAdd:function(){var t=this,n=Number($("."+t.menuSelect.className+" > ul.menuList > li.on > button").attr("data-click-value"));t._hasContentsFind(n)||(t.contentsShow.push(n),t.currentContentsNumber=n,$("#contentsArea > div.matchingColumn").attr("data-contents-value",n).attr("id","devConts_"+n))},_hasContentsFind:function(n){var t=this;return $.inArray(n,t.contentsShow)>=0?!0:!1},_createContents:function(n,t){var i=this;_.each($(".matchingColumn"),function(){if(!i._hasContentsFind(n)){var r="/main/Cntnt_"+t;i.contentsShow.push(n);i._contsAjaxHtmlResult(r,n)}})},_showContents:function(n){var t=this,i,r;$(".matchingColumn").hide();i=function(){t.contentsShow.length===$(".matchingColumn").length&&$("#devConts_"+n).length>0&&t.currentContentsNumber===n&&($(".matchingColumn").hide(),$("#devConts_"+n).show(),clearInterval(r))};r=setInterval(i,5)},_noResultLoader:function(n){JK5Cript.Loader.async(n,function(){})},_initResultLoader:function(n){JK5Cript.Loader.async(n,function(n,t){t&&Number($(".devContsSelectBtn").attr("data-select-value"))!==Number(n)&&(Number(n)===1?$($(".devMenuSelectBtn")[1]).trigger("click"):$($(".devMenuSelectBtn")[0]).trigger("click"))})},_preventDefault:function(n){n.preventDefault?n.preventDefault():n.stop();n.returnValue=!1;n.stopPropagation();n.stopImmediatePropagation?n.stopImmediatePropagation():n.isImmediatePropagationEnabled=!1},_isStarterShow:function(){return getCookie("mainContents")=="1"?!1:!0},_initContent:function(){var t=this,n,i,r,u;t._isStarterShow()?t._contentsAdd():(n=33,i=$(".devCareerMenu").data("default-click-value"),i!=null&&(n=i),r=$(".devCareerMenu > ul > li > button").filter("[data-click-value='"+n+"']"),u="/main/Cntnt_"+r.attr("data-url"),t.contentsShow.push(n),t._contsAjaxHtmlResult(u,n),t.currentContentsNumber=n,t._showContents(n))},_showSmartMatchLoading:function(){$("#devSmartMatchLoding").is(":visible")||$("#devSmartMatchLoding").show()},_hideSmartMatchLoading:function(){$("#devSmartMatchLoding").hide()}})